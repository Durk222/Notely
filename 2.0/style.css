/* STYLE.CSS */

/* --- CORRECCI칍N GLOBAL DE ANCHURA Y MODELO DE CAJA --- */
*, *::before, *::after {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}
/* --- 1. LIQUEUR 2.0 --- */
:root {
    /* Paleta Fija */
    --color-light-liqueur: #FFFCF2; /* Blanco */
    --color-medium-liqueur: #CCC5B9; /* Gris Claro */
    --color-med-dark-liqueur: #403D39; /* Gris Oscuro */
    --color-dark-liqueur: #252422; /* Negro */
    --color-accent-liqueur: #FF3D00; /* Naranja (Accent) */

    /* VARIABLES DIN츼MICAS (DEFAULT: Light Mode) */
    --color-bg: var(--color-light-liqueur); /* Fondo */
    --color-fg: var(--color-dark-liqueur); /* Foreground */
    --color-md: var(--color-medium-liqueur); /* Tono medio para elementos secundarios (ej. l칤neas de divisi칩n) */
    --color-dd: var(--color-med-dark-liqueur); /* Tono oscuro para rellenos */
    --color-ac: var(--color-accent-liqueur); /* Tono de acento */
    
    --theme-mode: light;

    /* DEFINICI칍N DE FAMILIAS DE FUENTE */
    --font-h1: 'Xirod', serif;
    /* Las fuentes H2/H3 se listan como fallback por si falla el JS randomizador */
    --font-h2-group: 'Xirod', 'Nasalization', sans-serif; 
    --font-body: 'Xanmono', monospace; /* Xanmono con monospace como fallback */
}

/* --- 2. MODO OSCURO (DATA-THEME="DARK") --- */
body[data-theme="dark"] {
    /* INVERSI칍N: El fondo es oscuro, la tinta es clara */
    --color-bg: var(--color-dark-liqueur); 
    --color-fg: var(--color-light-liqueur);
    
    /* Inversi칩n sutil de tonos */
    --color-md: var(--color-med-dark-liqueur); 
    --color-dd: var(--color-medium-liqueur);

    --theme-mode: dark;
}

/* --- 3. TIPOGRAF칈A @FONT-FACE --- */

/* h1: Xirod (Impacto Principal) */
@font-face {
    font-family: 'Xirod'; 
    src: url('2.0_ASSETS/Xirod.otf') format('opentype'); 
    font-weight: normal;
    font-style: normal;
}
/* h2/h3 Random 2: Xirod */
@font-face {
    font-family: 'Xirod';
    src: url('2.0_ASSETS/Xirod.otf') format('opentype');
    font-weight: normal;
    font-style: normal;
}

/* h2/h3 Random 3: Nasalization */
@font-face {
    font-family: 'Nasalization';
    src: url('2.0_ASSETS/Nasalization.otf') format('opentype');
    font-weight: normal;
    font-style: normal;
}

/* Cuerpo de Texto: Xanmono Regular (Legible) */
@font-face {
    font-family: 'Xanmono';
    src: url('2.0_ASSETS/Xanmono_reg.ttf') format('truetype');
    font-weight: normal;
    font-style: normal;
}

/* Cuerpo de Texto: Xanmono Italic (칄nfasis) */
@font-face {
    font-family: 'Xanmono';
    src: url('2.0_ASSETS/Xanmono_ita.ttf') format('truetype');
    font-weight: normal;
    font-style: italic;
}

/* --- 4. ESTILOS GLOBALES --- */

/* Estilo de selecci칩n */
::selection {
    background-color: var(--color-ac); /* fondo naranja */
    color: var(--color-bg);
}
/* Para compatibilidad con algunos navegadores antiguos (especialmente Firefox) */
::-moz-selection {
    background-color: var(--color-ac);
    color: var(--color-bg);
}

html, body {
    height: 100%; 
    min-height: 100vh; 
}

body {
    background-color: var(--color-bg);
    color: var(--color-fg);
    font-family: var(--font-body);
    transition: background-color 0.3s, color 0.3s;
    overflow-x: hidden;
    overflow-y: hidden !important;
    display: flex;
    flex-direction: column;
}

h1 {
    font-family: var(--font-body);
    font-size: 4em;
    line-height: 1;
    text-transform: uppercase;
}

h2 {

    font-family: var(--font-h2-group); 
    font-size: 2.5em;
    /* ... (otros estilos) ... */
}

/* --- 5. ESTRUCTURA LAYOUT (MAIN-CONTAINER) --- */
#main-container {
    display: flex; 
    flex-direction: column; 
    
    width: 100%;
    height: calc(100vh - 65px);
    /* PROPIEDADES DEL BORDE */
    border: 2px solid var(--color-fg);
    border-bottom: none;
    border-radius: 2px 2px 5px 5px;
    
    position: relative; 
    z-index: 500; 
}

/* El texto de p치rrafo y botones (por defecto) es legible */
p, button {
    font-family: var(--font-body);
}

#horizontal-nav {
    display: flex;
    flex-direction: row;
    justify-content: space-between; /* El logo a la izquierda, botones a la derecha */
    align-items: center;
    
    /* Margen interno para separar del borde del #main-container */
    padding: 10px 15px; 
    
    /* L칤nea de divisi칩n Brutalista (delgada) */
    border-bottom: 2px solid var(--color-fg); 
    flex-shrink: 0; /* Asegura que la barra no se encoja */
    flex-wrap: nowrap;
}

/* --- LOGO --- */
.logo-area {
    /* El logo se queda como est치, solo necesita un ancho fijo o m칤nimo */
    flex-shrink: 0; /* No se encoge */
    margin-right: 15px; /* Espacio antes de la barra de b칰squeda */
}

/* --- BARRA DE B칔SQUEDA --- */
#search-bar {
    display: flex;
    align-items: center;
    
    height: 35px; 
    /* 游뚿 CLAVE: Permitir que la barra crezca y ocupe el espacio central 游뚿 */
    flex-grow: 1; 
    max-width: 600px; /* Limitar el ancho para que no se vea sobrecargada */
    
    border: 2px solid var(--color-fg);
    border-radius: 20px;
    background-color: var(--color-bg);
    overflow: hidden; 

    /* Margen a la izquierda y derecha para separarla del logo y el bot칩n de tema */
    margin: 0 15px; 
}

/* El .nav-buttons-group vuelve a ser un contenedor para el bot칩n de tema */
.nav-buttons-group {
    /* Aqu칤 solo estar치 el bot칩n de tema */
    flex-shrink: 0; /* No se encoge */
}

.nav-icon-button {
    /* Estilo Brutalista: Sin fondo, solo borde o solo texto/icono */
    background: none;
    border: none;
    color: var(--color-fg);
    cursor: pointer;
    font-size: 1.2em; /* Tama침o de 칤cono est치ndar */
    padding: 5px; /* Peque침o padding para 치rea de clic */
}

/* --- NUEVO: CONTENEDOR RA칈Z DEL FOOTER --- */
#footer-bar-root {
    position: fixed; /* CLAVE: Fijo a la ventana */
    bottom: 0;
    left: 0;
    right: 0;
    width: auto;
    height: 65px; /* Altura de la barra + margen/borde */
    z-index: 900; /* Asegura que est칠 sobre otros elementos */
}

/* --- FOOTER BAR (Etiqueta Decorativa Inferior) --- */
#footer-bar {
    
    width: 100%;
    height: 60px; /* Altura fija */
    border-top: 2px solid var(--color-fg);
    background-color: var(--color-bg); 
    
    padding: 0 15px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    
    /* Las l칤neas son m치s delgadas, como solicitaste */
    font-size: 10px;
    font-family: var(--font-body); /* Fuente Monospace para utilidad */
    text-transform: uppercase;
}
#footer-bar-content {
    display: flex;
    width: 100%;
    align-items: center;
    justify-content: space-between;
}

/* --- Componentes de la Barra Inferior (Brutalismo Utilitario) --- */

/* 1. Etiqueta de Producto Redondeada (Izquierda) */
.product-label-group {
    display: flex;
    align-items: center;
    gap: 10px;
}
.rounded-badge {
    border: 1.5px solid var(--color-fg); /* Borde delgado */
    border-radius: 15px; /* Redondeado */
    padding: 3px 8px;
    display: flex;
    flex-direction: column;
    line-height: 1;
}
.barcode-area {
    /* Borde que simula un c칩digo de barras */
    border: 1.5px solid var(--color-fg);
    padding: 4px;
    height: 35px;
    display: flex;
    align-items: flex-end;
}
.part-no {
    font-size: 9px;
    writing-mode: vertical-rl; /* Texto vertical (opcional, si quieres el estilo exacto de la imagen) */
    text-orientation: mixed;
    transform: rotate(180deg);
}

/* 2. T칤tulo Central (Grande y Bold) */
.issue-title {
    display: flex;
    align-items: baseline;
    font-family: var(--font-h1);
    font-size: 20px;
    font-weight: 700;
}
.issue-number {
    font-size: 30px; /* N칰mero m치s grande y audaz */
    margin-left: 5px;
}

/* 3. QR y Utilidad (Derecha) */
.qr-and-utility-group {
    display: flex;
    align-items: center;
    gap: 15px;
}
.qr-code-placeholder {
    width: 30px;
    height: 30px;
    border: 1.5px solid var(--color-fg); /* Borde delgado para el QR */
    overflow: hidden; 
    display: flex; /* Centrar el QR generado (canvas/img) */
    align-items: center;
    justify-content: center;
}
/* Estilo para el canvas/img generado por la librer칤a dentro del contenedor */
.qr-code-placeholder canvas,
.qr-code-placeholder img {
    /* Forzar el tama침o interno para que encaje perfectamente si la librer칤a genera m치s grande */
    width: 100% !important; 
    height: 100% !important;
}
.utility-icons {
    display: flex;
    gap: 10px;
    font-size: 18px; /* Tama침o de 칤conos de Font Awesome */
}

/* Los 칤conos de Font Awesome Outline (far) por defecto no tienen fill. */
/* Si usas los s칩lidos (fas), tendr칤as que invertir el color o forzar un contorno. */
.utility-icons i {
    color: var(--color-fg);
}
/* --- NUEVO: QR FUNCIONAL GRANDE (ANCLAJE) --- */
#qr-code-functional-root {
    position: fixed;
    /* Ubicaci칩n: Inferior Izquierda, 70px por encima de la base (65px del footer + 5px de margen) */
    bottom: 70px; 
    left: 20px;
    z-index: 850; /* Por debajo del footer (900) pero por encima del contenido principal */
    
    /* El tama침o lo definiremos en JS, pero el borde va aqu칤 */
    padding: 8px; /* Espacio entre el borde del marco y el c칩digo QR */
    border: 2px solid var(--color-fg); /* Marco Brutalista grueso */
    background-color: var(--color-bg); /* Fondo s칩lido para legibilidad */
    
    /* Para que el QR se vea bien, el contenido debe ser centrado */
    display: flex; 
    align-items: center; 
    justify-content: center;

    /* Desactivar la selecci칩n de im치gen en el QR */
    -webkit-user-select: none; /* Safari */
    -moz-user-select: none;    /* Firefox */
    -ms-user-select: none;     /* IE/Edge */
    user-select: none;         /* Est치ndar */

    cursor: default;
}
/* --- 6. COMPONENTE: BARRA DE B칔SQUEDA (BRUTALISTA) --- */
#search-bar {
    display: flex;
    align-items: center;
    
    /* El tama침o lo definimos aqu칤 */
    height: 35px; 
    width: 100%;
    
    border: 2px solid var(--color-fg); /* Marco Grueso */
    border-radius: 20px; /* Redondeado como en tu imagen */
    background-color: var(--color-bg); 
    overflow: hidden;

    margin-bottom: 5px; /* Espacio extra al final de la barra */
}

/* 1. Decoraci칩n Izquierda/Derecha */
.search-deco {
    display: flex;
    align-items: center;
    height: 100%;
    padding: 0 10px; 
    flex-shrink: 0;
}

.left-deco .glitch-text {
    /* Estilo Sci-Fi/Utilitario */
    font-family: var(--font-body);
    font-size: 1.5em; 
    color: var(--color-fg);
}

/* 2. Campo de Entrada Central (Input) */
.search-input {
    flex-grow: 1; /* Ocupar todo el espacio restante */
    height: 100%;
    padding: 0 10px;
    
    background: none; /* Fondo transparente */
    border: none; /* Sin borde */
    outline: none; /* Sin outline al hacer foco */
    
    font-family: var(--font-body);
    font-size: 0.9em;
    color: var(--color-fg);
}
.search-input::placeholder {
    color: var(--color-dd); /* Tono m치s suave para el placeholder */
    font-style: italic;
}

/* 3. Decoraci칩n Derecha (Scanlines y Texto) */
.right-deco {
    /* Aqu칤 forzamos que el contenido vaya a la derecha */
    gap: 5px; 
}

.right-deco .scanlines-placeholder {
    width: 5px;
    height: 100%;
    /* Simulaci칩n de scanlines: Relleno con el color de tinta */
    background-color: var(--color-fg); 
    /* Opcional: Patr칩n de l칤neas usando un background complejo o un div con bordes */
}

.right-deco .small-text {
    font-family: var(--font-body);
    font-size: 8px; /* Texto muy peque침o */
    opacity: 0.7; /* Texto sutil */
    text-transform: uppercase;
    /* A침adir algo de estilo para ese look "impreso" */
    letter-spacing: 2px;
}
/* --- NUEVO: BARCODE SUPERIOR (ANCLAJE) --- */
#barcode-root-left,
#barcode-root-right {
    position: fixed;
    top: 70px; /* Separaci칩n de la parte superior, suficiente para que est칠 debajo de la nav bar */
    z-index: 850; 
    
    padding: 5px; 
    background-color: var(--color-bg); /* Fondo s칩lido para legibilidad */
    border: 2px solid var(--color-fg); 
    
    /* Prevenir arrastre/selecci칩n */
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    cursor: default;
}

#barcode-root-left {
    left: 20px; /* Mismo margen que el QR inferior */
    border-radius: 1.2px 5px 1.2px 5px;
}

#barcode-root-right {
    right: 20px; /* Mismo margen que el QR inferior */
    border-radius: 5px 1.2px 5px 1.2px;
}
/* --- NUEVO: BARRA DE NAVEGACI칍N DE UTILIDAD (Dock Inferior 3x3) --- */
#utility-nav-dock {
    position: fixed;
/* 游뚿 1. Centrado Horizontal Perfecto y Flotante 游뚿 */
    left: 50%;
    transform: translateX(-50%);
    
    /* 游뚿 2. Posici칩n Vertical Correcta 游뚿 */
    bottom: 75px; 
    z-index: 990; /* M치s alto que el footer (900) y los c칩digos de barra (850) */
    
    /* 游뚿 3. EVITAR SCROLL HORIZONTAL 游뚿 */
    width: auto; 
    padding: 10px;
    max-width: 90vw; 
    height: 120px; 
    
    /* Estilos de Marco */
    border: 3px solid var(--color-ac); 
    background-color: var(--color-bg); 
    border-radius: 40px 1.2px 40px 1.2px; 
    
    /* Layout Interno */
    display: flex; 
    justify-content: center;
    align-items: center; 
    gap: 15px; 
}

/* --- Cuadr칤cula 3x3 (Contenido funcional) --- */
.nav-grid-container {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    grid-template-rows: repeat(3, 1fr);
    gap: 1px; 
    width: 80px; 
    height: 80px;
}

/* Estilo para cada bot칩n */
.nav-grid-button {
    /* 游뚿 CLAVE: Botones de TINTA (--color-fg) sobre FONDO (--color-bg) 游뚿 */
    background-color: var(--color-fg); 
    border: none;
    color: var(--color-bg); /* 칈cono en color de fondo */
    
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 1.1em;
    cursor: pointer;
    transition: background-color 0.2s, color 0.2s;
}

/* 游뚿 CLAVE: Efecto Hover Invertido (como quer칤as: se vuelven color acento) 游뚿 */
.nav-grid-button:hover {
    background-color: var(--color-ac); /* Fondo Naranja */
    color: var(--color-fg); /* Tinta sobre el naranja */
}

/* --- Barras Decorativas --- */
.nav-decoration-bar {
    display: flex;
    align-items: flex-end; 
    gap: 2px;
    height: 90px;
}

.deco-bar-item {
    background-color: var(--color-ac); /* Color de acento (Naranja) */
    height: 80%; 
    border: none;
}
/* Estilo general para el t칤tulo del feed */
.feed-title-animated {
    /* Centrado en el contenedor principal */
    text-align: center;
    padding-top: 50px;
    
    /* Fuente y estilo Brutalista/Digital */
    font-family: var(--font-mono); /* Fuente monoespaciada para efecto digital */
    font-size: 1.2em; 
    color: var(--color-fg); 
    
    /* Propiedad clave para GSAP: transforma el origen */
    transform-origin: center center; 
    
    /* Asegurar que las transformaciones (scale, filter) funcionen bien */
    will-change: transform, filter, opacity; 
    
    /* Estilo de borde de acento solo para el texto (opcional) */
    text-shadow: 1px 1px 0 var(--color-ac), -1px -1px 0 var(--color-ac);
}
.feed-header-group {
    /* Centrar todo el encabezado */
    text-align: center;
    padding-bottom: 20px; /* Espacio debajo de la l칤nea */
}

/* --- L칈NEA DIVISORIA BRUTALISTA DE PLIEGUES --- */
.brutalist-divider {
    width: 60%; /* Ocupar una porci칩n del centro */
    height: 3px; /* Muy delgada */
    margin: 20px auto 0 auto; /* Centrar horizontalmente y separarse del t칤tulo */
    
    background-color: var(--color-bg); /* Fondo del color de la app */
    border-top: 1px solid var(--color-md); /* Borde superior con color medio */
    
    /* 游뚿 CLAVE: El efecto de pliegues/relieve se logra con un box-shadow doble 游뚿 */
    box-shadow: 
        0px 1px 0 0 var(--color-dd), /* Sombra que simula el borde inferior (Oscuro) */
        0px 2px 0 0 var(--color-md); /* Sombra que simula la junta (Medio) */
}

/* Estilo para que se vea bien en tema oscuro */
[data-theme='dark'] .brutalist-divider {
    border-top: 1px solid var(--color-fg); /* Usar el color de tinta para el contraste */
    box-shadow: 
        0px 1px 0 0 var(--color-dd), 
        0px 2px 0 0 var(--color-md);
}
#feed-content-area {
    width: 90%; 
    max-width: 1000px;
    margin: 0 auto 40px auto;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    grid-auto-rows: 20px; 
    grid-gap: 15px;
    padding-bottom: 200px;
    min-height: 100%;
}

.post-card {
    /* Fondo de la tarjeta: Gris Oscuro */
    background-color: var(--color-dd); 
    border: 1px solid var(--color-fg);
    border-radius: 2px;
    overflow: hidden;
    position: relative;
    opacity: 0; 
    display: flex;
    flex-direction: column; 
    padding: 0;
    z-index: 600;
}

/* --- Estilos del Contenedor de Imagen --- */
.post-image-container {
    width: 100%;
    padding-top: 100%; 
    position: relative;
    overflow: hidden;
}

.post-image {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
}

/* 游뚿 BLOQUE CORREGIDO: Estilos para el Cuerpo del Contenido 游뚿 */
.post-content-body {
    padding: 10px;
    flex-grow: 1; 
    /* CLAVE DE CONTRASTE: Fondo Claro, Tinta Oscura (usando variables) */
    background-color: var(--color-bg); 
    color: var(--color-fg); 
}

/* --- Estilos para el Encabezado Utilitario (Tag y Timestamp) --- */
.post-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 5px;
    
    border-bottom: 1px dashed var(--color-md); 
    padding-bottom: 5px;
}

.post-tag, .post-timestamp {
    font-family: var(--font-body);
    font-size: 0.75em;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.post-tag {
    color: var(--color-ac);
    font-weight: bold;
}

.post-timestamp {
    color: var(--color-md);
}

/* --- Estilos para T칤tulo (H2) --- */
.post-content-body h2 {
    font-family: var(--font-h2-group); 
    font-size: 1.1em;
    text-transform: uppercase;
    line-height: 1.2;
    margin-top: 5px;
    margin-bottom: 10px;
    color: var(--color-fg);
    text-shadow: 0.5px 0.5px 0 var(--color-ac);
}

/* --- Estilos para P치rrafo (P) --- */
.post-content-body p {
    font-family: var(--font-body);
    font-size: 0.85em;
    line-height: 1.4;
    color: var(--color-fg);
}

/* --- Estilos para Contenido Pendiente --- */
.pending-content {
    padding: 20px 10px;
    height: 100%;
    /* CLAVE DE CONTRASTE: Fondo de tono medio */
    background-color: var(--color-md);
    color: var(--color-fg); 
    font-family: var(--font-body);
    text-align: center;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    font-size: 0.9em;
}

/* 1. Cuadrado (1x1) - Est치ndar */
.card-square {
    grid-row-end: span 12; 
}

/* 2. Largo Vertical (1x2) */
.card-vertical {
    grid-row-end: span 20; 
}

/* 3. Largo Horizontal (2x1) */
.card-horizontal {
    grid-column-end: span 2;
    grid-row-end: span 12; 
}

/* 4. Relleno Cuadrado (1x1) - Est칠tico */
.card-filler {
    grid-row-end: span 12; 
    background-color: var(--color-ac); 
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 1.5em;
    color: var(--color-fg);
    text-shadow: 0 0 5px var(--color-bg);
}
/* ---------------------------------------------------- */
/* --- NUEVO: ESTILOS PARA LA ZONA DE CONTENIDO DIN츼MICO --- */
/* ---------------------------------------------------- */

#content-area {
    /* Ocupar todo el espacio restante dentro del #main-container 
       (Ya que #main-container tiene 'display: flex' y 'flex-direction: column') */
    flex-grow: 1; 
    
    /* 游뚿 CLAVE: Habilitar el scroll interno para ver los posts 游뚿 */
    /* La barra de scroll aparecer치 en este contenedor, NO en el 'body' */
    overflow-y: scroll;
    overflow-x: hidden;
    
    /* Altura m칤nima necesaria para que ocupe todo el espacio disponible */
    height: 100%; 
    
    /* Opcional: Asegurar que el contenido comienza en la parte superior */
    padding-top: 0;
    /* Opcional pero 칰til para asegurar el contraste de las tarjetas: */
    background-color: transparent;
}

/* Opcional: Estilo de la barra de desplazamiento (para navegadores Webkit como Chrome/Safari) */
#content-area::-webkit-scrollbar {
    width: 8px;
    background-color: var(--color-bg);
}

#content-area::-webkit-scrollbar-thumb {
    background-color: var(--color-dd); /* Color de relleno oscuro */
    border-radius: 4px;
}
/* ==================================================== */
/* 8. ESTILOS DEL VISOR DE CONTENIDO (content.js)        */
/* ==================================================== */

#content-viewer-container {
    padding: 40px 0;
    width: 95%;
    max-width: 1080px; /* Mayor ancho para la modularidad */
    margin: 0 auto;
}

/* --- T칈TULO Y METADATOS FIJOS --- */
.content-title {
    font-family: var(--font-header);
    font-size: 3em;
    text-align: left; /* T칤tulo alineado a la izquierda como el poster */
    color: var(--color-fg);
    margin-bottom: 5px;
}

.content-header-meta {
    display: flex;
    gap: 20px;
    font-size: 0.85em;
    font-family: var(--font-mono);
    color: var(--color-md);
    margin-bottom: 20px;
}

.content-divider-line {
    height: 1px;
    background-color: var(--color-dd); 
    margin: 20px 0;
    box-shadow: 0 1px 0 var(--color-fg); 
}

/* --- IMAGEN CENTRAL (Correcci칩n de Aspecto y L칤mite de Altura) --- */

.image-aspect-wrapper {
    position: relative;
    width: 100%;
    padding-bottom: 56.25%; /* 100% de padding-bottom = 1:1 (cuadrado) */
    
    max-height: 450px;
    overflow: hidden;
}

.content-image-zone {
    position: absolute; /* Ocupa el espacio definido por el padding-bottom del padre */
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    
    /* Mantener los estilos Brutalistas del marco */
    background-color: var(--color-bg);
    display: flex;
    justify-content: center;
    align-items: center;
    border: 2px solid var(--color-fg);
    border-radius: 1.5px;
}

.content-main-image {
    /* Mantenemos object-fit: contain para ver la imagen completa */
    width: 100%;
    height: 100%;
    object-fit: contain; 
    opacity: 1; 
    filter: none;
    /* A침adimos un padding peque침o para que la imagen no toque los bordes del marco */
    padding: 10px; 
}
/* --- 츼REA MODULAR DE DATOS --- */
.modular-data-area {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 20px;
    padding: 20px 0;
}

.data-module {
    /* Los estilos de borde, fondo y border-radius son inyectados v칤a JS (MODULE_STYLES) */
    padding: 20px;
    color: var(--color-fg);
    transition: transform 0.2s; /* Para un peque침o efecto al pasar el mouse */
}

.module-deco-title {
    font-family: var(--font-mono);
    font-size: 0.9em;
    color: var(--color-md);
    margin-bottom: 15px;
    border-bottom: 1px dashed var(--color-dd);
    padding-bottom: 5px;
}

.metadata-item {
    display: flex;
    justify-content: space-between;
    font-family: var(--font-mono);
    font-size: 0.9em;
    padding: 5px 0;
}

.network-status .status-ok { color: var(--color-success); }
.network-status .status-warning { color: var(--color-error); }


/* --- SECCI칍N DE COMENTARIOS (Fija y Legible) --- */
#comment-section-fixed {
    padding: 25px;
    border: 3px solid var(--color-fg);
    background-color: var(--color-bg);
    margin-top: 30px;
}

.comment-section-title {
    font-family: var(--font-header);
    font-size: 1.5em;
    margin-bottom: 15px;
    border-bottom: 3px solid var(--color-dd);
}

.comment-input-area {
    display: flex;
    gap: 10px;
}

.comment-input {
    flex-grow: 1;
    padding: 10px;
    border: 1px solid var(--color-md);
    background-color: var(--color-bg);
    color: var(--color-fg);
    font-family: var(--font-body);
}

.comment-submit-btn {
    padding: 10px 15px;
    background-color: var(--color-fg);
    color: var(--color-bg);
    border: none;
    cursor: pointer;
    font-family: var(--font-mono);
    font-weight: bold;
}

.no-comments-msg {
    margin-top: 20px;
    font-size: 0.9em;
    color: var(--color-md);
    font-style: italic;
}

.server-error-message {
    text-align: center;
    padding: 50px;
    color: var(--color-fg);
    border: 3px dashed var(--color-md);
    margin: 50px auto;
    width: 80%;
}
/* --- NUEVO: DECORACI칍N DE VISOR (Trapezoide Tipo Notch) --- */
#image-notch-deco {
    position: absolute;
    bottom: -2px; 
    left: 50%; 
    transform: translateX(-50%);
    z-index: 750; 
    
    width: 40%; 
    height: 35px; 
    
    background-color: var(--color-bg); 
    
    /* 游뚿 CLAVE: Borde en ARRIBA, DERECHA, IZQUIERDA, CERO en ABRAJO 游뚿 */
    border-width: 2px 2px 0 2px; 
    border-style: solid;
    border-color: var(--color-fg);
    
    /* 游뚿 AJUSTE DE FORMA: Usamos clip-path para lograr la forma trapezoidal, pero asegurando los bordes laterales */
    /* La clave es que el clip-path se aplica primero, y luego se dibuja el borde */
    /* Este clip-path debe coincidir con la forma trapezoidal deseada: */
    clip-path: polygon(
        5% 0,    /* Esquina superior izquierda (con corte) */
        95% 0,   /* Esquina superior derecha (con corte) */
        100% 100%, /* Esquina inferior derecha */
        0% 100%    /* Esquina inferior izquierda */
    );
    
    /* Layout interno sigue igual */
    display: flex;
    justify-content: center;
    align-items: center;
}

.notch-content-container {
    display: flex;
    align-items: center;
    gap: 10px; /* Espacio entre los elementos internos */
    width: 80%; /* Asegurar que los elementos internos no toquen los bordes */
}

/* 1. C칤rculos laterales */
.notch-circle {
    width: 6px;
    height: 6px;
    background-color: var(--color-fg); /* Color de la tinta (negro/blanco) */
    border-radius: 50%;
    flex-shrink: 0; /* No se encoge */
}

/* 2. Barra de acento central */
.notch-accent-bar {
    flex-grow: 1; /* Ocupa todo el espacio central restante */
    height: 10px;
    background-color: var(--color-ac); /* Color de acento (naranja) */
    border-radius: 5px; /* Bordes redondeados para la barra */
}

[data-theme='dark'] #image-notch-deco {
    background-color: var(--color-dd); /* Un color intermedio en modo oscuro */
    border-color: var(--color-fg);
}
/* ==================================================== */
/* 9. ESTILOS DEL VISOR DE PERFIL (profile.js)          */
/* ==================================================== */

#profile-viewer-container {
    width: 90%;
    max-width: 1200px;
    margin: 40px auto; /* Centrado y con margen superior/inferior */
    display: flex;
    flex-direction: column;
}

/* --- CONTENEDOR PRINCIPAL DEL BANNER --- */
#profile-banner-container {
    position: relative;
    width: 100%;
    height: 250px; 
    margin-bottom: 30px; 
    overflow: hidden; 
    
    border: 2px solid var(--color-fg); 
    background-color: var(--color-bg); 
    color: var(--color-fg);
    
    /* 游뚿 CLAVE: DEFINICI칍N DE LA FORMA PERSONALIZADA 游뚿 */
    clip-path: polygon(
        /* Puntos del usuario: 
           43% 1%, 27% 15%, 8% 16%, 0% 25%, 0% 91%, 
           18% 91%, 25% 100%, 100% 100%, 100% 1% 
        */
        
        43% 1%,    /* 1. Inicio en la parte superior derecha */
        27% 15%,   /* 2. Corte diagonal hacia abajo y a la izquierda */
        8% 16%,    /* 3. Corte horizontal corto */
        0% 25%,    /* 4. Corte diagonal m치s pronunciado hasta el borde izquierdo */
        0% 91%,    /* 5. Baja verticalmente por el borde izquierdo */
        18% 91%,   /* 6. Corte diagonal/horizontal hacia la derecha (cerca de la base) */
        25% 100%,  /* 7. V칠rtice en la esquina inferior izquierda */
        100% 100%, /* 8. Esquina inferior derecha (estira el pol칤gono por la base) */
        100% 1%    /* 9. Estira el pol칤gono hacia arriba hasta el borde superior derecho */
    );
}
/* 游뚿 NUEVO: Pseudo-elemento para forzar el Border-Radius en la esquina superior derecha 游뚿 */
#profile-banner-container::after {
    content: '';
    position: absolute;
    /* 游뚿 Posici칩n en la esquina superior derecha 游뚿 */
    top: -3px; /* Subir un poco para tapar el borde del padre */
    right: -3px; /* Mover a la derecha para tapar el borde del padre */
    
    /* Definir un tama침o peque침o para el borde redondeado */
    width: 30px; 
    height: 30px;
    
    /* El color debe ser el mismo que el del fondo del banner */
    background-color: var(--color-bg); 
    
    /* El redondeo que solicitaste (25px) */
    border-top-right-radius: 25px; 
    
    /* Aplicamos el borde del mismo grosor que el contenedor principal */
    border: 2px solid var(--color-fg); 
    border-bottom: none; /* Quitamos el borde inferior */
    border-left: none; /* Quitamos el borde izquierdo */
    
    /* Aseguramos que solo se vean el top y el right */
    clip-path: inset(0 0 100% 100%); /* Solo para referencia, no es lo ideal aqu칤 */
    z-index: 10;
}
/* --- CONTENIDO INTERNO DEL BANNER --- */
.banner-content {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    
    display: flex;
    justify-content: center;
    align-items: center;
    text-align: center;
    /* Estilo de la imagen de fondo si a침ades una */
    background-image: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)); /* Overlay sutil */
}

.banner-title {
    font-family: var(--font-h1);
    font-size: 3em;
    color: var(--color-bg); /* Tinta clara sobre el fondo oscuro del banner */
    text-shadow: 2px 2px 0 var(--color-ac);
    z-index: 10;
}

/* --- DECORACIONES DE ESQUINA (Los rellenos negros de tu imagen) --- */
.banner-deco {
    position: absolute;
    background-color: var(--color-fg); /* Color negro/tinta */
    z-index: 5; /* Por debajo del t칤tulo */
}
.top-left-fill {
    top: 0;
    left: 0;
    width: 7%; /* Coincide con el corte del clip-path */
    height: 10px;
    background-color: black;
}
.top-right-fill {
    top: 0;
    right: 0;
    width: 7%;
    height: 10px;
    background-color: black;
}
/* ---------------------------------------------------- */
/* 3. MOBILE RESPONSIVE ADAPTATIONS */
/* ---------------------------------------------------- */
@media (max-width: 600px) {
    
    /* Reducir el marco principal si lo deseas */
    #main-container {
        border: 3px solid var(--color-fg); /* Marco m치s delgado en m칩vil */
    }
    #horizontal-nav {
        /* Reducir el padding interno (margen entre el borde y el contenido) */
        padding: 5px 10px; 
    }
    .nav-buttons-group {
        gap: 8px; /* Reducci칩n del espacio entre 칤conos */
    }
    .nav-icon-button {
        font-size: 1.1em;
        padding: 3px;
    }
    #footer-bar {
        padding: 0 8px; /* Reducir el margen interno del footer */
    }
}
@media (max-width: 600px) {
    /* Ocultar el QR funcional en pantallas muy peque침as para no estorbar */
    #qr-code-functional-root {
        display: none; 
    }
}
