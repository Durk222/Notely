/* STYLE.CSS */

/* --- CORRECCI칍N GLOBAL DE ANCHURA Y MODELO DE CAJA --- */
*, *::before, *::after {
    /* CLAVE: Asegura que el padding y el border se incluyan dentro del width/height
       definido, evitando que 100% + padding > 100vw. */
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

/* --- 1. LIQUEUR 2.0 --- */
:root {
    /* Paleta Fija */
    --color-light-liqueur: #FFFCF2; /* Blanco */
    --color-medium-liqueur: #CCC5B9; /* Gris Claro */
    --color-med-dark-liqueur: #403D39; /* Gris Oscuro */
    --color-dark-liqueur: #252422; /* Negro */
    --color-accent-liqueur: #FF3D00; /* Naranja (Accent) */

    /* VARIABLES DIN츼MICAS (DEFAULT: Light Mode) */
    --color-bg: var(--color-light-liqueur); /* Fondo */
    --color-fg: var(--color-dark-liqueur); /* Foreground */
    --color-md: var(--color-medium-liqueur); /* Tono medio para elementos secundarios (ej. l칤neas de divisi칩n) */
    --color-dd: var(--color-med-dark-liqueur); /* Tono oscuro para rellenos */
    --color-ac: var(--color-accent-liqueur); /* Tono de acento */
    
    --theme-mode: light;

    /* DEFINICI칍N DE FAMILIAS DE FUENTE */
    --font-h1: 'Xirod', serif;
    /* Las fuentes H2/H3 se listan como fallback por si falla el JS randomizador */
    --font-h2-group: 'RoundStyle_Bold', 'Xirod', 'Nasalization', sans-serif; 
    --font-body: 'Xanmono', monospace; /* Xanmono con monospace como fallback */
}

/* --- 2. MODO OSCURO (DATA-THEME="DARK") --- */
body[data-theme="dark"] {
    /* INVERSI칍N: El fondo es oscuro, la tinta es clara */
    --color-bg: var(--color-dark-liqueur); 
    --color-fg: var(--color-light-liqueur);
    
    /* Inversi칩n sutil de tonos */
    --color-md: var(--color-med-dark-liqueur); 
    --color-dd: var(--color-medium-liqueur);

    --theme-mode: dark;
}

/* --- 3. TIPOGRAF칈A @FONT-FACE --- */

/* h1: Xirod (Impacto Principal) */
@font-face {
    font-family: 'Xirod'; 
    src: url('2.0_ASSETS/Xirod.otf') format('opentype'); 
    font-weight: normal;
    font-style: normal;
}

/* h2/h3 Random 1: RoundStyle_Bold */
@font-face {
    font-family: 'RoundStyle_Bold';
    src: url('2.0_ASSETS/RoundStyle_Bold.ttf') format('truetype');
    font-weight: 700;
    font-style: normal;
}

/* h2/h3 Random 2: Xirod */
@font-face {
    font-family: 'Xirod';
    src: url('2.0_ASSETS/Xirod.otf') format('opentype');
    font-weight: normal;
    font-style: normal;
}

/* h2/h3 Random 3: Nasalization */
@font-face {
    font-family: 'Nasalization';
    src: url('2.0_ASSETS/Nasalization.otf') format('opentype');
    font-weight: normal;
    font-style: normal;
}

/* Cuerpo de Texto: Xanmono Regular (Legible) */
@font-face {
    font-family: 'Xanmono';
    src: url('2.0_ASSETS/Xanmono_reg.ttf') format('truetype');
    font-weight: normal;
    font-style: normal;
}

/* Cuerpo de Texto: Xanmono Italic (칄nfasis) */
@font-face {
    font-family: 'Xanmono';
    src: url('2.0_ASSETS/Xanmono_ita.ttf') format('truetype');
    font-weight: normal;
    font-style: italic;
}

/* --- 4. ESTILOS GLOBALES --- */

/* Estilo de selecci칩n */
::selection {
    background-color: var(--color-ac); /* fondo naranja */
    color: var(--color-bg);
}
/* Para compatibilidad con algunos navegadores antiguos (especialmente Firefox) */
::-moz-selection {
    background-color: var(--color-ac);
    color: var(--color-bg);
}

body {
    background-color: var(--color-bg);
    color: var(--color-fg);
    font-family: var(--font-body);
    transition: background-color 0.3s, color 0.3s;
    overflow-x: hidden;
}

h1 {
    font-family: var(--font-body);
    font-size: 4em;
    line-height: 1;
    text-transform: uppercase;
}

h2 {
    /* Por defecto, toma la primera de la lista. Usaremos JS para la randomizaci칩n. */
    font-family: 'RoundStyle_Bold', var(--font-h2-group); 
    font-size: 2.5em;
    /* ... (otros estilos) ... */
}

/* --- 5. ESTRUCTURA LAYOUT (MAIN-CONTAINER) --- */
#main-container {
    display: flex; 
    flex-direction: column; 
    
    width: 100%;
    height: calc(100vh - 65px);
    /* PROPIEDADES DEL BORDE */
    border: 2px solid var(--color-fg);
    border-bottom: none;
    border-radius: 2px 2px 5px 5px;
}

/* El texto de p치rrafo y botones (por defecto) es legible */
p, button {
    font-family: var(--font-body);
}

#horizontal-nav {
    display: flex;
    flex-direction: row;
    justify-content: space-between; /* El logo a la izquierda, botones a la derecha */
    align-items: center;
    
    /* Margen interno para separar del borde del #main-container */
    padding: 10px 15px; 
    
    /* L칤nea de divisi칩n Brutalista (delgada) */
    border-bottom: 2px solid var(--color-fg); 
    flex-shrink: 0; /* Asegura que la barra no se encoja */
    flex-wrap: nowrap;
}

/* --- LOGO --- */
.logo-area {
    /* El logo se queda como est치, solo necesita un ancho fijo o m칤nimo */
    flex-shrink: 0; /* No se encoge */
    margin-right: 15px; /* Espacio antes de la barra de b칰squeda */
}

/* --- BARRA DE B칔SQUEDA --- */
#search-bar {
    display: flex;
    align-items: center;
    
    height: 35px; 
    /* 游뚿 CLAVE: Permitir que la barra crezca y ocupe el espacio central 游뚿 */
    flex-grow: 1; 
    max-width: 600px; /* Limitar el ancho para que no se vea sobrecargada */
    
    border: 2px solid var(--color-fg);
    border-radius: 20px;
    background-color: var(--color-bg);
    overflow: hidden; 

    /* Margen a la izquierda y derecha para separarla del logo y el bot칩n de tema */
    margin: 0 15px; 
}

/* El .nav-buttons-group vuelve a ser un contenedor para el bot칩n de tema */
.nav-buttons-group {
    /* Aqu칤 solo estar치 el bot칩n de tema */
    flex-shrink: 0; /* No se encoge */
}

.nav-icon-button {
    /* Estilo Brutalista: Sin fondo, solo borde o solo texto/icono */
    background: none;
    border: none;
    color: var(--color-fg);
    cursor: pointer;
    font-size: 1.2em; /* Tama침o de 칤cono est치ndar */
    padding: 5px; /* Peque침o padding para 치rea de clic */
}

/* --- NUEVO: CONTENEDOR RA칈Z DEL FOOTER --- */
#footer-bar-root {
    position: fixed; /* CLAVE: Fijo a la ventana */
    bottom: 0;
    left: 0;
    right: 0;
    width: auto;
    height: 65px; /* Altura de la barra + margen/borde */
    z-index: 900; /* Asegura que est칠 sobre otros elementos */
}

/* --- FOOTER BAR (Etiqueta Decorativa Inferior) --- */
#footer-bar {
    
    width: 100%;
    height: 60px; /* Altura fija */
    border-top: 2px solid var(--color-fg);
    background-color: var(--color-bg); 
    
    padding: 0 15px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    
    /* Las l칤neas son m치s delgadas, como solicitaste */
    font-size: 10px;
    font-family: var(--font-body); /* Fuente Monospace para utilidad */
    text-transform: uppercase;
}
#footer-bar-content {
    display: flex;
    width: 100%;
    align-items: center;
    justify-content: space-between;
}

/* --- Componentes de la Barra Inferior (Brutalismo Utilitario) --- */

/* 1. Etiqueta de Producto Redondeada (Izquierda) */
.product-label-group {
    display: flex;
    align-items: center;
    gap: 10px;
}
.rounded-badge {
    border: 1.5px solid var(--color-fg); /* Borde delgado */
    border-radius: 15px; /* Redondeado */
    padding: 3px 8px;
    display: flex;
    flex-direction: column;
    line-height: 1;
}
.barcode-area {
    /* Borde que simula un c칩digo de barras */
    border: 1.5px solid var(--color-fg);
    padding: 4px;
    height: 35px;
    display: flex;
    align-items: flex-end;
}
.part-no {
    font-size: 9px;
    writing-mode: vertical-rl; /* Texto vertical (opcional, si quieres el estilo exacto de la imagen) */
    text-orientation: mixed;
    transform: rotate(180deg);
}

/* 2. T칤tulo Central (Grande y Bold) */
.issue-title {
    display: flex;
    align-items: baseline;
    font-family: var(--font-h1);
    font-size: 20px;
    font-weight: 700;
}
.issue-number {
    font-size: 30px; /* N칰mero m치s grande y audaz */
    margin-left: 5px;
}

/* 3. QR y Utilidad (Derecha) */
.qr-and-utility-group {
    display: flex;
    align-items: center;
    gap: 15px;
}
.qr-code-placeholder {
    width: 30px;
    height: 30px;
    border: 1.5px solid var(--color-fg); /* Borde delgado para el QR */
    overflow: hidden; 
    display: flex; /* Centrar el QR generado (canvas/img) */
    align-items: center;
    justify-content: center;
}
/* Estilo para el canvas/img generado por la librer칤a dentro del contenedor */
.qr-code-placeholder canvas,
.qr-code-placeholder img {
    /* Forzar el tama침o interno para que encaje perfectamente si la librer칤a genera m치s grande */
    width: 100% !important; 
    height: 100% !important;
}
.utility-icons {
    display: flex;
    gap: 10px;
    font-size: 18px; /* Tama침o de 칤conos de Font Awesome */
}

/* Los 칤conos de Font Awesome Outline (far) por defecto no tienen fill. */
/* Si usas los s칩lidos (fas), tendr칤as que invertir el color o forzar un contorno. */
.utility-icons i {
    color: var(--color-fg);
}
/* --- NUEVO: QR FUNCIONAL GRANDE (ANCLAJE) --- */
#qr-code-functional-root {
    position: fixed;
    /* Ubicaci칩n: Inferior Izquierda, 70px por encima de la base (65px del footer + 5px de margen) */
    bottom: 70px; 
    left: 20px;
    z-index: 850; /* Por debajo del footer (900) pero por encima del contenido principal */
    
    /* El tama침o lo definiremos en JS, pero el borde va aqu칤 */
    padding: 8px; /* Espacio entre el borde del marco y el c칩digo QR */
    border: 2px solid var(--color-fg); /* Marco Brutalista grueso */
    background-color: var(--color-bg); /* Fondo s칩lido para legibilidad */
    
    /* Para que el QR se vea bien, el contenido debe ser centrado */
    display: flex; 
    align-items: center; 
    justify-content: center;

    /* Desactivar la selecci칩n de im치gen en el QR */
    -webkit-user-select: none; /* Safari */
    -moz-user-select: none;    /* Firefox */
    -ms-user-select: none;     /* IE/Edge */
    user-select: none;         /* Est치ndar */

    cursor: default;
}
/* --- 6. COMPONENTE: BARRA DE B칔SQUEDA (BRUTALISTA) --- */
#search-bar {
    display: flex;
    align-items: center;
    
    /* El tama침o lo definimos aqu칤 */
    height: 35px; 
    width: 100%;
    
    border: 2px solid var(--color-fg); /* Marco Grueso */
    border-radius: 20px; /* Redondeado como en tu imagen */
    background-color: var(--color-bg); 
    overflow: hidden;

    margin-bottom: 5px; /* Espacio extra al final de la barra */
}

/* 1. Decoraci칩n Izquierda/Derecha */
.search-deco {
    display: flex;
    align-items: center;
    height: 100%;
    padding: 0 10px; 
    flex-shrink: 0;
}

.left-deco .glitch-text {
    /* Estilo Sci-Fi/Utilitario */
    font-family: var(--font-body);
    font-size: 1.5em; 
    color: var(--color-fg);
}

/* 2. Campo de Entrada Central (Input) */
.search-input {
    flex-grow: 1; /* Ocupar todo el espacio restante */
    height: 100%;
    padding: 0 10px;
    
    background: none; /* Fondo transparente */
    border: none; /* Sin borde */
    outline: none; /* Sin outline al hacer foco */
    
    font-family: var(--font-body);
    font-size: 0.9em;
    color: var(--color-fg);
}
.search-input::placeholder {
    color: var(--color-dd); /* Tono m치s suave para el placeholder */
    font-style: italic;
}

/* 3. Decoraci칩n Derecha (Scanlines y Texto) */
.right-deco {
    /* Aqu칤 forzamos que el contenido vaya a la derecha */
    gap: 5px; 
}

.right-deco .scanlines-placeholder {
    width: 5px;
    height: 100%;
    /* Simulaci칩n de scanlines: Relleno con el color de tinta */
    background-color: var(--color-fg); 
    /* Opcional: Patr칩n de l칤neas usando un background complejo o un div con bordes */
}

.right-deco .small-text {
    font-family: var(--font-body);
    font-size: 8px; /* Texto muy peque침o */
    opacity: 0.7; /* Texto sutil */
    text-transform: uppercase;
    /* A침adir algo de estilo para ese look "impreso" */
    letter-spacing: 2px;
}
/* --- NUEVO: BARCODE SUPERIOR (ANCLAJE) --- */
#barcode-root-left,
#barcode-root-right {
    position: fixed;
    top: 70px; /* Separaci칩n de la parte superior, suficiente para que est칠 debajo de la nav bar */
    z-index: 850; 
    
    padding: 5px; 
    background-color: var(--color-bg); /* Fondo s칩lido para legibilidad */
    border: 2px solid var(--color-fg); 
    
    /* Prevenir arrastre/selecci칩n */
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    cursor: default;
}

#barcode-root-left {
    left: 20px; /* Mismo margen que el QR inferior */
}

#barcode-root-right {
    right: 20px; /* Mismo margen que el QR inferior */
}
/* ---------------------------------------------------- */
/* 3. MOBILE RESPONSIVE ADAPTATIONS */
/* ---------------------------------------------------- */
@media (max-width: 600px) {
    
    /* Reducir el marco principal si lo deseas */
    #main-container {
        border: 3px solid var(--color-fg); /* Marco m치s delgado en m칩vil */
    }

    /* 游뚿 Ajuste de la barra de navegaci칩n 游뚿 */
    #horizontal-nav {
        /* Reducir el padding interno (margen entre el borde y el contenido) */
        padding: 5px 10px; 
    }

    /* Reducir el espacio entre los botones */
    .nav-buttons-group {
        gap: 8px; /* Reducci칩n del espacio entre 칤conos */
    }

    /* Reducir el tama침o de los 칤conos si es necesario */
    .nav-icon-button {
        font-size: 1.1em;
        padding: 3px;
    }
    
    /* Ajuste para el Footer (Si tiene demasiado padding horizontal) */
    #footer-bar {
        padding: 0 8px; /* Reducir el margen interno del footer */
    }
}
@media (max-width: 600px) {
    /* Ocultar el QR funcional en pantallas muy peque침as para no estorbar */
    #qr-code-functional-root {
        display: none; 
    }
}
