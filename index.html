<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Notely - The Little Letters</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    
    <script src="https://unpkg.com/roughjs@4.6.6/bundled/rough.js"></script>
    
    <style>
        /* ---------------------------------------------------- */
        /* 1. SISTEMA DE VARIABLES DE NOTELY (Temas B/N) */
        /* ---------------------------------------------------- */
        :root {
            /* PALETA ESTTICA (6 PARES B/N) */
            --color-light-ecru: #F3F2EE; /* Isabelline (Fondo - Fill) */
            --color-dark-ecru: #21211D;  /* Raisin Black (Tinta - Stroke) */
            --color-light-swizzle: #F7F6E3;
            --color-dark-swizzle: #060409;
            --color-light-satin: #E2E2DF;
            --color-dark-satin: #131212;
            --color-light-timber: #D9D4C8;
            --color-dark-timber: #2B3031;
            --color-light-coffee: #E8DED6;
            --color-dark-coffee: #2C261E;
            --color-light-olive: #E7E4DB;
            --color-dark-olive: #383F33;

            /* VARIABLES DINMICAS (DEFAULT: Ecru Light) */
            --color-bg: var(--color-light-ecru);
            --color-fg: var(--color-dark-ecru);

            /* Almacena el modo claro y oscuro */
            --theme-mode: light;
            
            transition: background-color 0.3s, color 0.3s;
        }

        /*  NUEVAS REGLAS: Tema Oscuro */
     body[data-theme="dark"] {
    --color-bg: var(--color-dark-ecru); /* Fondo de oscuro (negro) */
    --color-fg: var(--color-light-ecru); /* Tinta de claro (blanco) */
    --theme-mode: dark;
        }
        /* ---------------------------------------------------- */
        /* 2. ESTILOS GLOBALES BSICOS Y LIENZO */
        /* ---------------------------------------------------- */
        html, body {
            margin: 0; 
            padding: 0;
            overflow-x: hidden; /* Evita el scroll horizontal */
            overflow-y: hidden;
        }

        body {
            background-color: var(--color-bg);
            color: var(--color-fg);
            min-height: 100vh; 
            font-family:'Exin Regular', sans-serif; 
            position: relative; 
        }

        h1, h2, h3, h4 {
    /* Usar Flabby Bums para los encabezados */
    font-family: 'Flabby Bums', cursive;
          }
        
        /* NUEVA REGLA: El Canvas de Fondo Ocupa toda la ventana */
        #backgroundCanvas {
           position: fixed; /* Fijo para que no se mueva con el scroll */
           top: 0;
           left: 0;
           width: 100vw;
           height: 100vh;
           z-index: -1; /* CLAVE: Debe estar detr谩s de todo */

           /*  ESTA ES LA LNEA CRTICA  */
           pointer-events: none;
         }
        
        /* Contenedor del Canvas: 98% del viewport */
        #frame-container {
            width: 98vw; 
            height: 98vh; 
            margin: 1vh auto;
            position: relative;
            /*
            top: 1vh;
            left: 1vw;
            */
            z-index: 1;
        }

        /* El Canvas que dibuja el borde */
        #notelyCanvas {
            /*
            position: absolute;
            top: 0;
            left: 0;
            */
            /* Estos deben ser 100% para que el JS los lea correctamente */
            width: 100%;
            height: 100%;
            z-index: 1;
        }

/* Wrapper para el contenido de la App (se superpone al canvas) */
#app-wrapper {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 2;
    padding: 15px; /* Mismo padding que usamos para el bot贸n de auth */
    
    /* 1. Definir el 谩rea de la m谩scara (clipping) */
    overflow: hidden; 
    /* El contenido que se mueva dentro de app-wrapper ser谩 recortado */
    pointer-events: none; /* Dejamos que los clics lleguen al canvas por defecto */
}

        /* Contenedor del Scroll del Feed */
#feed-container {
    position: absolute;
    /* Ajustamos el feed para que empiece justo debajo del bot贸n de auth */
    top: 70px; /* 20px (NAV_BAR_MARGIN_TOP) + 40px (AUTH_BTN_HEIGHT) + 10px (SPACING) */
    left: 80px; /* 20px (THEME_BTN_MARGIN) + 40px (NAV_BAR_WIDTH) + 20px (SPACING) */
    
    /* Calculamos el ancho restante */
    width: calc(100% - 80px - 20px); /* 100% - left - right_margin (20px) */
    height: calc(100% - 70px - 20px); /* 100% - top - bottom_margin (20px) */
    
    overflow-y: scroll; /* Permite el scroll vertical */
    pointer-events: auto; /* CLAVE: Permite que el feed reciba clics/scroll */
    
    /* 2. Propiedad de recorte */
    /* Aseguramos que el contenido sea recortado en los bordes de este contenedor */

    /*  Nueva Propiedad: Mejora la experiencia t谩ctil */
    -webkit-overflow-scrolling: touch;
    
    /*  SOLUCIN DE CENTRADO */
    display: flex;
    justify-content: center; /* Centra el contenido horizontalmente (los posts) */
}

/* Contenido dentro del Feed */
#feed-scroller {
      width: auto; /* Permite que el contenido se centre */
}

        /* Ocultar la barra de scroll en Webkit (Chrome, Safari, Edge) */
#feed-container::-webkit-scrollbar {
    width: 0; /* Ancho de la barra */
    height: 0; /* Altura de la barra (para scroll horizontal) */
}

/* Ocultar la barra de scroll en Firefox */
#feed-container {
    scrollbar-width: none; /* 'none' oculta la barra */
}
/* LA PANTALLA DE CARGA */
#loading-screen-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    z-index: 1000; /* Asegura que est茅 por encima de todo */
    background-color: var(--color-bg); /* Fondo s贸lido */
    transition: opacity 0.5s ease-out; /* Para el desvanecimiento final */
}
#loadingCanvas {
    width: 100%;
    height: 100%;
}
        /* --- Flabby Bums para T铆tulos --- */
@font-face {
    font-family: 'Flabby Bums'; /* Nombre que usar谩s para referirte a ella */
    src: url('assets/Flabby_Bums_handwriting.ttf') format('truetype');
    font-weight: normal;
    font-style: normal;
        }

/* --- Exin para Texto General --- */
@font-face {
    font-family: 'Exin Regular'; /* Nombre que usar谩s para referirte a ella */
    src: url('assets/exin_memesbruh03.ttf') format('truetype');
    font-weight: normal;
    font-style: normal;
       }

        .post-placeholder {
    /* ... otros estilos de tama帽o ... */
    
    /* Configuraci贸n de la Animaci贸n de Aparici贸n/Desaparici贸n */
    animation: appear 1s ease-out; /* Velocidad y suavidad */
    animation-timeline: view();
    animation-range: entry 0% cover 30%; /* Controla d贸nde empieza el desvanecimiento */
}

@keyframes appear{
    from{
       opacity: 0;
       scale: 0.9; /* Hace que parezca que "salen" del marco */
    }
    to{
       opacity: 1;
       scale: 1;
    }
}
        
    </style>
</head>
<body>
<canvas id="backgroundCanvas"></canvas> 
    
    <div id="frame-container"> 
        <canvas id="notelyCanvas"></canvas>
        
        <div id="app-wrapper">
            <div id="feed-container">
                </div>
        </div>
    </div>
<div id="loading-screen-overlay">
    <canvas id="loadingCanvas"></canvas>
</div>
<script src="animation.js"></script> 
<script src="animation_right.js"></script>
<script src="scroll_handler.js"></script>
</body>
</html>
